<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alpine JS - Learn Basics</title>

    <style>
      [x-cloak] {
        display: none;
      }

      body {
        text-align: center;
        min-height: 300vh;
      }
    </style>

    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://unpkg.com/alpinejs@3.10.5/dist/cdn.min.js"
      defer
    ></script>
  </head>
  <body>
    <h1 class="text-5xl">Alpine JS Basics</h1>
    <!-- x-data, x-text, x-html -->
    <div x-data="{ name: 'Mohamed Fadl', message: 'Hello <b>World</b>' }">
      <h2>
        <strong>x-text</strong>, <strong>x-data</strong>,
        <strong>x-html</strong>
      </h2>
      <p x-text="name"></p>
      <p x-html="message"></p>
    </div>

    <div
      x-data
      x-text="await (await fetch('https://jsonplaceholder.typicode.com/todos/1')).text()"
    ></div>

    <!-- x-data with methods -->
    <div
      x-data="{
      message: 'Click Me to change the text',
      changeText() {
        this.message = 'The content was changed ‚úîÔ∏è';}
    }"
    >
      <h2><strong>x-data</strong> with methods</h2>
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded disabled:opacity-50 disabled:cursor-not-allowed"
        x-text="message"
        @click="
          changeText();
          $event.target.disabled = true;
        "
      ></button>
    </div>

    <!-- Re-usable Data -->
    <div x-data="dropdown">
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded"
        @click="toggle"
        x-text="open ? 'Close' : 'Open'"
      ></button>
      <div x-show="open" x-cloak>
        <p>Some content</p>
      </div>
    </div>

    <!-- Data-less Component -->
    <div x-data>
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded"
        @click="alert('Hello World')"
      >
        Click Me
      </button>
    </div>

    <!-- Data Coming From Stores -->
    <div x-data>
      <template x-for="item in $store.cart.items">
        <p>
          <span x-text="item.name"></span>
          ‚úåÔ∏è
          <span x-text="item.price"></span>
        </p>
      </template>
    </div>

    <!-- x-init -->
    <div x-init="console.log('Component Initialized using x-init')"></div>
    <div
      x-data="{
      init() {
        console.log('Component Initialized using x-data');
      }
    }"
    ></div>

    <!-- Scoping -->
    <div
      x-data="{
      name: 'Mohamed Fadl',
      age: 23,
      gender: 'Male'
    }"
    >
      <div
        x-data="{
        name: 'Aboul-Fadl',
        age: 22
      }"
      >
        <div
          x-data="{
          name: 'Fadl'
        }"
        >
          <p x-text="name"></p>
          <p x-text="age"></p>
          <p x-text="gender"></p>
        </div>
      </div>
    </div>

    <!-- Getters & Setters -->
    <div
      x-data="{
      name: 'Mohamed Fadl',
      get fullName() {
        return this.name.toUpperCase();
      },
      set fullName(value) {
        this.name = value;
      }
    }"
    >
      <p x-text="fullName"></p>
      <input
        class="px-2 py-1 border-black border-2"
        type="text"
        x-model="fullName"
      />
    </div>

    <!-- x-show & x-transition -->
    <div x-data="{ open: false }">
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded"
        @click="open = !open"
      >
        Toggle x-show
      </button>
      <div
        x-show="open"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 transform scale-90"
        x-transition:enter-end="opacity-100 transform scale-100"
        x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="opacity-100 transform scale-100"
        x-transition:leave-end="opacity-0 transform scale-90"
      >
        <h3>Some content</h3>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos cumque
          nostrum consequatur quasi distinctio saepe numquam nemo quod repellat
          quibusdam!
        </p>
      </div>
    </div>

    <!-- x-if -->
    <div x-data="{ open: false }">
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded"
        @click="open = !open"
      >
        Toggle x-if
      </button>
      <template x-if="open">
        <div>
          <h3>Some content</h3>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos cumque
            nostrum consequatur quasi distinctio saepe numquam nemo quod
            repellat quibusdam!
          </p>
        </div>
      </template>
    </div>

    <!-- x-for -->
    <div x-data>
      <ul>
        <template
          x-for="item in ['Loop 1', 'Loop 2', 'Loop 3', 'Loop 4']"
          :key="item"
        >
          <li x-text="item"></li>
        </template>
      </ul>
    </div>

    <!-- x-bind: -->
    <div x-data="{ open: false }">
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded"
        x-bind:class="{ 'bg-red-500 hover:bg-red-700': open }"
        @click="open = !open"
      >
        Toggle x-bind:
      </button>
    </div>

    <!-- Challenge -->
    <div
      class="flex justify-center items-center gap-2"
      x-data="{colors: ['red', 'green', 'blue']}"
    >
      <template x-for="color in colors">
        <div
          class="w-28 h-28 flex justify-center items-center"
          x-text="color"
          :class="`bg-${color}-600`"
        ></div>
      </template>
    </div>

    <!-- Events: x-on: -->
    <div x-data @notify="alert('custom event fired üöÄ')">
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded"
        @click="alert($event.target.getAttribute('message'))"
        message="Hello World"
      >
        Say Hi
      </button>
      <br />
      <input
        class="px-2 py-1 border-black border-2"
        type="text"
        @keyup.enter="alert('Submitted!')"
      />
      <br />
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded"
        @click.once="console.log('I will only log once')"
      >
        Click Event will execute once
      </button>
      <br />
      <input
        class="px-2 py-1 border-black border-2"
        type="text"
        @input.debounce.500ms="console.log($event.target.value)"
      />
      <br />
      <button
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1.5 px-4 my-2 rounded"
        @click="$dispatch('notify')"
      >
        Dispatch Event
      </button>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
